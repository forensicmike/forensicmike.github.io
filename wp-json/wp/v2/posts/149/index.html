{"id":149,"date":"2019-05-11T07:09:10","date_gmt":"2019-05-11T14:09:10","guid":{"rendered":"https:\/\/3.88.229.156\/?p=149"},"modified":"2019-05-19T18:49:24","modified_gmt":"2019-05-20T01:49:24","slug":"forensicblend-designing-a-scalable-community-plugin-api","status":"publish","type":"post","link":"http:\/\/172.31.17.250\/2019\/05\/11\/forensicblend-designing-a-scalable-community-plugin-api\/","title":{"rendered":"forensicBlend: Designing a scalable community plugin API"},"content":{"rendered":"\n<p>I decided to start writing this series to document my work on forensicBlend, a project I <a rel=\"noreferrer noopener\" aria-label=\" (opens in a new tab)\" href=\"https:\/\/twitter.com\/forensicmike1\/status\/1126989265420730368?s=20\" target=\"_blank\">previewed on Twitter yesterday<\/a> that takes device logs and translates them into a modern report format that can be searched, filtered, and exported. One of my fundamental design goals is to provide a high level of extensibility and allow community developers to contribute. That is, I want for people who know how to script to be able to contribute their own custom logic and see it work in my apps (and ultimately, result in a better timeline tool). This is something <a rel=\"noreferrer noopener\" aria-label=\"Eric Zimmerman (opens in a new tab)\" href=\"https:\/\/ericzimmerman.github.io\/#!index.md\" target=\"_blank\">Eric Zimmerman<\/a> touched on <a rel=\"noreferrer noopener\" aria-label=\" (opens in a new tab)\" href=\"https:\/\/3.88.229.156\/2019\/05\/06\/chatting-net-with-eric-zimmerman\/\" target=\"_blank\">in our interview<\/a> last week.<\/p>\n\n\n\n<figure class=\"wp-block-image\"><a href=\"http:\/\/3.88.229.156\/wp-content\/uploads\/2019\/05\/1-1.png\"><img loading=\"lazy\" width=\"1000\" height=\"650\" src=\"http:\/\/3.88.229.156\/wp-content\/uploads\/2019\/05\/1-1.png\" alt=\"\" class=\"wp-image-150\" srcset=\"http:\/\/172.31.17.250\/wp-content\/uploads\/2019\/05\/1-1.png 1000w, http:\/\/172.31.17.250\/wp-content\/uploads\/2019\/05\/1-1-300x195.png 300w, http:\/\/172.31.17.250\/wp-content\/uploads\/2019\/05\/1-1-768x499.png 768w\" sizes=\"(max-width: 1000px) 100vw, 1000px\" \/><\/a><\/figure>\n\n\n\n<p>I scaffolded some of the UX (above) based roughly on how I want this to work. Essentially- list the currently installed plugins, prompt for updates where available, and provide a way to browse the online repository to download additional plugins.<\/p>\n\n\n\n<p><em>Side note<\/em>:<em> I&#8217;ve had some questions regarding what UI framework I am using. The above is a WPF app which uses the excellent <a rel=\"noreferrer noopener\" aria-label=\" (opens in a new tab)\" href=\"https:\/\/github.com\/MahApps\/MahApps.Metro\" target=\"_blank\">MahApps.Metro<\/a> and <a href=\"https:\/\/github.com\/MaterialDesignInXAML\/MaterialDesignInXamlToolkit\" target=\"_blank\" rel=\"noreferrer noopener\" aria-label=\" (opens in a new tab)\">Material Design in XAML<\/a> libraries. These are <\/em><u><em>free<\/em><\/u><em> offerings that you can use in your own WPF project to elevate your UI to the next level.<\/em><\/p>\n\n\n\n<h3><u>Requirements<\/u><\/h3>\n\n\n\n<p>There are really two areas of work here to think about: the plugin API itself (what to do with the packages once they are installed), and package hosting\/redistribution. Here are a few overall design considerations and requirements I came up with:<\/p>\n\n\n\n<ul><li>As a lone developer, time and cost savings are a priority. If there are any wheels that have already been invented, don&#8217;t invent new ones unless the need be great.<\/li><li>It&#8217;s 2019 and it&#8217;s therefore important we take time to consider things like security. Packages containing plugins may have DLLs (more on this later) with code that will ultimately be executed by our app. This could (and should) be considered a potential attack surface.  We can mitigate this with some of the following:<ul><li>Packages should be signed and verified at every step of the way.<\/li><li>Community created plugins and updates will undergo a thorough, manual code review and testing before they are posted to the package library (think Apple&#8217;s App Store).<\/li><\/ul><\/li><li>Plugin packages should have versioning capabilities and upgrading to the latest version should be as seamless as possible, being cognizant that not all users will have internet access.<\/li><li>Community created plugins will be managed centrally and approved prior to being posted to the online package library (think Apple App Store).<\/li><\/ul>\n\n\n\n<h3><u>Hosting and Package Distribution<\/u><\/h3>\n\n\n\n<p>I knew going into a project like this that I wanted to use Amazon AWS. The cost effectiveness, sheer scalability, and all-around cool factor of using AWS made this an easy design decision. Off the top of my head, I expect to be using the following AWS components:<\/p>\n\n\n\n<ul><li>API Gateway <ul><li>Create and administer web endpoints for the app.<\/li><\/ul><\/li><li>Certificate Manager<ul><li>Free SSL certificate!<\/li><\/ul><\/li><li>CloudFront<ul><li>Content Delivery Network (CDN) to ensure low latency, high speed access to data from anywhere in the world<\/li><\/ul><\/li><li>Cognito<ul><li>Complete User Account Management and Authentication<\/li><\/ul><\/li><li>EC2 (Elastic Compute Cloud)<ul><li>Host microinstance of some sort of RDBMS. Or perhaps we will try out a NoSQL solution DynamoDB for science \/ learning &#8212; and because DynamoDB has a permanent free tier option.<\/li><\/ul><\/li><li>Elastic Load Balancing<ul><li>Distribute incoming application traffic across multiple targets across several Availability zones.<\/li><\/ul><\/li><li>Lambda<ul><li>Provide the business logic for serving our REST API to answer questions like &#8220;What are all the plugins currently available and what is the latest version?&#8221;<\/li><li>Provide the business logic for facilitating and monitoring package downloads (users like to see download counts), potentially provide a &#8216;thumbs up \/ thumbs down&#8217; interaction or possibly even comment<\/li><\/ul><\/li><li>Route 53<ul><li>DNS Registration<\/li><\/ul><\/li><li>S3<ul><li>Secure, encrypted, redundant hosting of the compiled packages themselves<\/li><li>Web front-end for users who choose to browse it this way.<\/li><\/ul><\/li><\/ul>\n\n\n\n<p>Let&#8217;s keep in mind I&#8217;ve touched on less than 10 of the things AWS can do for you, whereas the actual list of things it can do is much, much longer. For most of us, the usage involved will be in or around the Free Tier, so basically what I&#8217;m saying is you can get all of the things above for NO COST. If you are reading this and going, &#8220;Why am I still renting web space like I did in 2005?&#8221; this is an excellent question. You may wanna migrate! There is also an irreplaceable feeling you get when you realize you are using the same exact same serverless environment as some of the largest of corporate juggernauts out there. <\/p>\n\n\n\n<h3><u>Packaging Technologies<\/u><\/h3>\n\n\n\n<p>Earlier I mentioned leveraging as many existing technologies as possible. Most every .NET programmer out there is familiar with the idea of <a href=\"https:\/\/www.nuget.org\/\" target=\"_blank\" rel=\"noreferrer noopener\" aria-label=\" (opens in a new tab)\">NuGet<\/a>. From NuGet themselves:  <\/p>\n\n\n\n<p style=\"text-align:right\"><em>NuGet is the package manager for .NET. The NuGet client tools provide the ability to produce and consume packages. The NuGet Gallery is the central package repository used by all package authors and consumers.  <\/em><\/p>\n\n\n\n<p><\/p>\n\n\n\n<p>So if I&#8217;m writing an app, and I want to bring in code from a library to perform a specific function, I can open the NuGet Package Manager in my development environment (Visual Studio shown below) and perform a search for the function I need. Then it&#8217;s one click to install and be off.<\/p>\n\n\n\n<figure class=\"wp-block-image\"><img loading=\"lazy\" width=\"1024\" height=\"562\" src=\"http:\/\/3.88.229.156\/wp-content\/uploads\/2019\/05\/nuget-1024x562.png\" alt=\"\" class=\"wp-image-152\" srcset=\"http:\/\/172.31.17.250\/wp-content\/uploads\/2019\/05\/nuget-1024x562.png 1024w, http:\/\/172.31.17.250\/wp-content\/uploads\/2019\/05\/nuget-300x165.png 300w, http:\/\/172.31.17.250\/wp-content\/uploads\/2019\/05\/nuget-768x421.png 768w, http:\/\/172.31.17.250\/wp-content\/uploads\/2019\/05\/nuget.png 1320w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/figure>\n\n\n\n<p>It goes even further by providing strong versioning, licensing, dependency tracking, and more. Behind the scenes, NuGet uses .NUPKG files which are containers that bake alot of this functionality in for us, and provide desirable things like package signing.<\/p>\n\n\n\n<p>Since NuGet already does everything we need and then some, for free, why would we design our own solution from scratch? Seeing the recurring theme here?<\/p>\n\n\n\n<h3><u>Next steps<\/u><\/h3>\n\n\n\n<p>So we know we&#8217;re going to use NuGet as a package management solution, and we know we&#8217;re going to use AWS for community hosting and package distribution, but what about the actual code to load said plugins? This could be the most entertaining part, but also the most time intensive. For the purposes of development, I will need to look at how to extract and use content from a NuGet package <u>at runtime<\/u>.<\/p>\n\n\n\n<p>I&#8217;m going to have to weigh the advantages of dynamic code compilation (source code compilation at runtime) vs. distributing pre-compiled binaries (DLLs) and simply loading them.<\/p>\n\n\n\n<p>Stay tuned for the next article in the series where we will get coding!<\/p>\n","protected":false},"excerpt":{"rendered":"<p>I decided to start writing this series to document my work on forensicBlend, a project I previewed on Twitter yesterday that takes device logs and translates them into a modern report format that can be searched, filtered, and exported. One of my fundamental design goals is to provide a high level of extensibility and allow [&hellip;]<\/p>\n","protected":false},"author":2,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"_mi_skip_tracking":false},"categories":[27,26,1],"tags":[18,19,8,20],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v19.4 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>forensicBlend: Designing a scalable community plugin API - forensicmike1<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/52.72.64.130\/2019\/05\/11\/forensicblend-designing-a-scalable-community-plugin-api\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"forensicBlend: Designing a scalable community plugin API - forensicmike1\" \/>\n<meta property=\"og:description\" content=\"I decided to start writing this series to document my work on forensicBlend, a project I previewed on Twitter yesterday that takes device logs and translates them into a modern report format that can be searched, filtered, and exported. One of my fundamental design goals is to provide a high level of extensibility and allow [&hellip;]\" \/>\n<meta property=\"og:url\" content=\"https:\/\/52.72.64.130\/2019\/05\/11\/forensicblend-designing-a-scalable-community-plugin-api\/\" \/>\n<meta property=\"og:site_name\" content=\"forensicmike1\" \/>\n<meta property=\"article:published_time\" content=\"2019-05-11T14:09:10+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2019-05-20T01:49:24+00:00\" \/>\n<meta property=\"og:image\" content=\"http:\/\/3.88.229.156\/wp-content\/uploads\/2019\/05\/1-1.png\" \/>\n<meta name=\"author\" content=\"Mike Williamson\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@forensicmike1\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"Mike Williamson\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"5 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebSite\",\"@id\":\"http:\/\/172.31.17.250\/#website\",\"url\":\"http:\/\/172.31.17.250\/\",\"name\":\"forensicmike1\",\"description\":\"#DFIR | #RE | #OtherGeekThings =&gt; Views expressed are my own.\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"http:\/\/172.31.17.250\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/52.72.64.130\/2019\/05\/11\/forensicblend-designing-a-scalable-community-plugin-api\/\",\"url\":\"https:\/\/52.72.64.130\/2019\/05\/11\/forensicblend-designing-a-scalable-community-plugin-api\/\",\"name\":\"forensicBlend: Designing a scalable community plugin API - forensicmike1\",\"isPartOf\":{\"@id\":\"http:\/\/172.31.17.250\/#website\"},\"datePublished\":\"2019-05-11T14:09:10+00:00\",\"dateModified\":\"2019-05-20T01:49:24+00:00\",\"author\":{\"@id\":\"http:\/\/172.31.17.250\/#\/schema\/person\/9452bbb839546322f3705877143ce492\"},\"breadcrumb\":{\"@id\":\"https:\/\/52.72.64.130\/2019\/05\/11\/forensicblend-designing-a-scalable-community-plugin-api\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/52.72.64.130\/2019\/05\/11\/forensicblend-designing-a-scalable-community-plugin-api\/\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/52.72.64.130\/2019\/05\/11\/forensicblend-designing-a-scalable-community-plugin-api\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"http:\/\/172.31.17.250\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"forensicBlend: Designing a scalable community plugin API\"}]},{\"@type\":\"Person\",\"@id\":\"http:\/\/172.31.17.250\/#\/schema\/person\/9452bbb839546322f3705877143ce492\",\"name\":\"Mike Williamson\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"http:\/\/172.31.17.250\/#\/schema\/person\/image\/\",\"url\":\"http:\/\/2.gravatar.com\/avatar\/540f47dd0fb41a572604e4bf8594c723?s=96&d=mm&r=g\",\"contentUrl\":\"http:\/\/2.gravatar.com\/avatar\/540f47dd0fb41a572604e4bf8594c723?s=96&d=mm&r=g\",\"caption\":\"Mike Williamson\"},\"sameAs\":[\"https:\/\/3.88.229.156\",\"https:\/\/twitter.com\/forensicmike1\"],\"url\":\"http:\/\/172.31.17.250\/author\/forensicmike\/\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","yoast_head_json":{"title":"forensicBlend: Designing a scalable community plugin API - forensicmike1","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/52.72.64.130\/2019\/05\/11\/forensicblend-designing-a-scalable-community-plugin-api\/","og_locale":"en_US","og_type":"article","og_title":"forensicBlend: Designing a scalable community plugin API - forensicmike1","og_description":"I decided to start writing this series to document my work on forensicBlend, a project I previewed on Twitter yesterday that takes device logs and translates them into a modern report format that can be searched, filtered, and exported. One of my fundamental design goals is to provide a high level of extensibility and allow [&hellip;]","og_url":"https:\/\/52.72.64.130\/2019\/05\/11\/forensicblend-designing-a-scalable-community-plugin-api\/","og_site_name":"forensicmike1","article_published_time":"2019-05-11T14:09:10+00:00","article_modified_time":"2019-05-20T01:49:24+00:00","og_image":[{"url":"http:\/\/3.88.229.156\/wp-content\/uploads\/2019\/05\/1-1.png"}],"author":"Mike Williamson","twitter_card":"summary_large_image","twitter_creator":"@forensicmike1","twitter_misc":{"Written by":"Mike Williamson","Est. reading time":"5 minutes"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"WebSite","@id":"http:\/\/172.31.17.250\/#website","url":"http:\/\/172.31.17.250\/","name":"forensicmike1","description":"#DFIR | #RE | #OtherGeekThings =&gt; Views expressed are my own.","potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"http:\/\/172.31.17.250\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"WebPage","@id":"https:\/\/52.72.64.130\/2019\/05\/11\/forensicblend-designing-a-scalable-community-plugin-api\/","url":"https:\/\/52.72.64.130\/2019\/05\/11\/forensicblend-designing-a-scalable-community-plugin-api\/","name":"forensicBlend: Designing a scalable community plugin API - forensicmike1","isPartOf":{"@id":"http:\/\/172.31.17.250\/#website"},"datePublished":"2019-05-11T14:09:10+00:00","dateModified":"2019-05-20T01:49:24+00:00","author":{"@id":"http:\/\/172.31.17.250\/#\/schema\/person\/9452bbb839546322f3705877143ce492"},"breadcrumb":{"@id":"https:\/\/52.72.64.130\/2019\/05\/11\/forensicblend-designing-a-scalable-community-plugin-api\/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https:\/\/52.72.64.130\/2019\/05\/11\/forensicblend-designing-a-scalable-community-plugin-api\/"]}]},{"@type":"BreadcrumbList","@id":"https:\/\/52.72.64.130\/2019\/05\/11\/forensicblend-designing-a-scalable-community-plugin-api\/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"http:\/\/172.31.17.250\/"},{"@type":"ListItem","position":2,"name":"forensicBlend: Designing a scalable community plugin API"}]},{"@type":"Person","@id":"http:\/\/172.31.17.250\/#\/schema\/person\/9452bbb839546322f3705877143ce492","name":"Mike Williamson","image":{"@type":"ImageObject","inLanguage":"en-US","@id":"http:\/\/172.31.17.250\/#\/schema\/person\/image\/","url":"http:\/\/2.gravatar.com\/avatar\/540f47dd0fb41a572604e4bf8594c723?s=96&d=mm&r=g","contentUrl":"http:\/\/2.gravatar.com\/avatar\/540f47dd0fb41a572604e4bf8594c723?s=96&d=mm&r=g","caption":"Mike Williamson"},"sameAs":["https:\/\/3.88.229.156","https:\/\/twitter.com\/forensicmike1"],"url":"http:\/\/172.31.17.250\/author\/forensicmike\/"}]}},"_links":{"self":[{"href":"http:\/\/172.31.17.250\/wp-json\/wp\/v2\/posts\/149"}],"collection":[{"href":"http:\/\/172.31.17.250\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/172.31.17.250\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/172.31.17.250\/wp-json\/wp\/v2\/users\/2"}],"replies":[{"embeddable":true,"href":"http:\/\/172.31.17.250\/wp-json\/wp\/v2\/comments?post=149"}],"version-history":[{"count":18,"href":"http:\/\/172.31.17.250\/wp-json\/wp\/v2\/posts\/149\/revisions"}],"predecessor-version":[{"id":170,"href":"http:\/\/172.31.17.250\/wp-json\/wp\/v2\/posts\/149\/revisions\/170"}],"wp:attachment":[{"href":"http:\/\/172.31.17.250\/wp-json\/wp\/v2\/media?parent=149"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/172.31.17.250\/wp-json\/wp\/v2\/categories?post=149"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/172.31.17.250\/wp-json\/wp\/v2\/tags?post=149"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}